{% extends 'layout.html' %}

{% block body %}
<main>
    <div class="container-fluid px-4">
        <h1 class="mt-4">Tienda - Productos</h1>
        <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item"><a href="/index">Dashboard</a></li>
            <li class="breadcrumb-item active">Productos</li>
        </ol>
        
        <div class="card mb-4">
            <div class="card-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="23" viewBox="0 0 20 23" fill="none">
                    <path d="M16 5H14C14 3.67392 13.4732 2.40215 12.5355 1.46447C11.5979 0.526784 10.3261 0 9 0C7.67392 0 6.40215 0.526784 5.46447 1.46447C4.52678 2.40215 4 3.67392 4 5H2C1.46957 5 0.960859 5.21071 0.585786 5.58579C0.210714 5.96086 0 6.46957 0 7V19C0 19.5304 0.210714 20.0391 0.585786 20.4142C0.960859 20.7893 1.46957 21 2 21H9.05C8.11779 20.4162 7.34897 19.6054 6.81554 18.6434C6.2821 17.6815 6.0015 16.5999 6 15.5C5.99564 14.1255 6.43393 12.7861 7.25 11.68C6.2962 11.3236 5.47393 10.6846 4.89315 9.84823C4.31237 9.01191 4.00076 8.0182 4 7H6C6 7.79565 6.31607 8.55871 6.87868 9.12132C7.44129 9.68393 8.20435 10 9 10H9.06C9.67232 9.60501 10.3493 9.32069 11.06 9.16C11.3543 8.88202 11.5893 8.54734 11.7509 8.17612C11.9124 7.80491 11.9972 7.40483 12 7H14C14.0032 7.72212 13.8461 8.43595 13.54 9.09C14.4544 9.24307 15.3254 9.58996 16.0946 10.1074C16.8639 10.6248 17.5135 11.3008 18 12.09V7C18 6.46957 17.7893 5.96086 17.4142 5.58579C17.0391 5.21071 16.5304 5 16 5ZM6 5C6 4.20435 6.31607 3.44129 6.87868 2.87868C7.44129 2.31607 8.20435 2 9 2C9.79565 2 10.5587 2.31607 11.1213 2.87868C11.6839 3.44129 12 4.20435 12 5M16.31 17.9C16.9002 16.965 17.1255 15.8455 16.943 14.755C16.7604 13.6645 16.1828 12.6793 15.3202 11.9876C14.4577 11.2958 13.3707 10.9457 12.2666 11.0043C11.1624 11.0628 10.1185 11.5257 9.33392 12.3048C8.54935 13.0839 8.07907 14.1246 8.01281 15.2283C7.94654 16.332 8.28893 17.4214 8.97465 18.2888C9.66037 19.1561 10.6414 19.7407 11.7306 19.9309C12.8198 20.1211 13.9409 19.9036 14.88 19.32L18 22.39L19.39 21M12.5 18C12.0055 18 11.5222 17.8534 11.1111 17.5787C10.7 17.304 10.3795 16.9135 10.1903 16.4567C10.0011 15.9999 9.95157 15.4972 10.048 15.0123C10.1445 14.5273 10.3826 14.0819 10.7322 13.7322C11.0819 13.3826 11.5273 13.1445 12.0123 13.048C12.4972 12.9516 12.9999 13.0011 13.4567 13.1903C13.9135 13.3795 14.304 13.7 14.5787 14.1111C14.8534 14.5222 15 15.0055 15 15.5C15 16.163 14.7366 16.7989 14.2678 17.2678C13.7989 17.7366 13.163 18 12.5 18Z" fill="black"/>
                  </svg>
                Lista de productos <a href="/producto/add4/"> <button type="button" class="btn btn-primary btn-flat">  <span class="glyphicon glyphicon-plus"></span> Nuevo Producto  </button> </a>
            </div>
            <div class="card-body">
                <table id="datatablesSimple">
                    <thead>
                        <tr>
                            <th>SKU</th>
                            <th>Nombre</th>
                            <th>Precio</th>
                            <th>Descripción</th>
                            <th>Imagen</th>
                            <th>Categorías</th>
                            <th>Desarrolladora</th>
                            <th>Acción</th>
                        </tr>
                    </thead>
                    <tbody>
                      {% if data|length == 0 %}
                      <tr>
                        <td>No Data</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                      {% else %}
                      <tr>
                        {% for row in data %}
                        <td>{{ row[1] }}</td>
                        <td>{{ row[2] }}</td>
                        <td>S/. {{ row[3] }}</td>
                        <td>
                          <div style="max-width: 500px; white-space: normal;">
                              {{ row[4] }}
                          </div>
                        </td>                      
                        <td><img src="{{ row[5] }}" alt="imagen" width="100px"></img></td>
                        <td>{{ row[6] }}</td>
                        <td>{{ row[7] }}</td>
                        <td align="center">
                          <a href="/producto/update4/{{ row[0] }}" class="btn btn-warning" title="Editar" style="margin-right: 10px;">
                            <svg class="icono-tabla" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 17 18" fill="none">
                                <path d="M16.7238 4.04194C17.0921 3.65199 17.0921 3.00208 16.7238 2.63213L14.5141 0.292459C14.1647 -0.0974865 13.5509 -0.0974865 13.1826 0.292459L11.4451 2.12221L14.9863 5.87168M0 14.2505V18H3.54118L13.9853 6.93154L10.4441 3.18206L0 14.2505Z" fill="black"/>
                            </svg>
                        </a>
                        
                        <a href="/producto/delete4/{{ row[0] }}" class="btn btn-danger" title="Borrar">
                            <svg class="icono-tabla" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 14 18" fill="none">
                                <path d="M14 1H10.5L9.5 0H4.5L3.5 1H0V3H14M1 16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H11C11.5304 18 12.0391 17.7893 12.4142 17.4142C12.7893 17.0391 13 16.5304 13 16V4H1V16Z" fill="black"/>
                            </svg>
                        </a>
                        
                        </td>
                      </tr>
                      {% endfor %}
                      {% endif%}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</main>

{% endblock %}